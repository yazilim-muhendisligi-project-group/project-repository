<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>

<BorderPane stylesheets="@styles.css" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.baharkiraathanesi.kiraathane.ReportController">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #333; -fx-padding: 15;">
            <Button text="â† Ana MenÃ¼" onAction="#goBackToMenu" style="-fx-background-color: #555; -fx-text-fill: white;" wrapText="true"/>
            <Label text="GÃ¼n Sonu Raporu (Z Raporu) ve Analiz" textFill="WHITE" style="-fx-font-size: 18px; -fx-font-weight: bold;" wrapText="true"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="ðŸ“„ Z Raporu Al ve YazdÄ±r" onAction="#printZReport"
                    style="-fx-background-color: #FF5722; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-padding: 10 20;" wrapText="true"/>
            <Label fx:id="dateLabel" text="" textFill="#aaa" style="-fx-font-size: 14px;" wrapText="true"/>
        </HBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <BorderPane.margin>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </BorderPane.margin>

            <Tab text="GÃ¼nlÃ¼k SatÄ±ÅŸ DetaylarÄ±">
                <VBox spacing="10" style="-fx-padding: 20;">
                    <Label text="BugÃ¼nkÃ¼ TamamlanmÄ±ÅŸ Ä°ÅŸlemler" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                    <TableView fx:id="reportTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="orderIdColumn" text="Ä°ÅŸlem No" prefWidth="80"/>
                            <TableColumn fx:id="tableNameColumn" text="Masa" prefWidth="100"/>
                            <TableColumn fx:id="timeColumn" text="Saat" prefWidth="100"/>
                            <TableColumn fx:id="totalColumn" text="Tutar" prefWidth="120" style="-fx-alignment: CENTER-LEFT;"/>
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>

            <Tab text="HaftalÄ±k Ciro GrafiÄŸi (Son 7 GÃ¼n)">
                <VBox spacing="10" style="-fx-padding: 20;">
                    <AreaChart fx:id="weeklyRevenueChart" title="Son 7 GÃ¼nlÃ¼k Ciro Raporu" VBox.vgrow="ALWAYS">
                        <xAxis>
                            <CategoryAxis label="Tarih / GÃ¼n"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Ciro (TL)"/>
                        </yAxis>
                    </AreaChart>
                </VBox>
            </Tab>

            <Tab text="AylÄ±k Ciro Raporu">
                <VBox spacing="10" style="-fx-padding: 20;">
                    <BarChart fx:id="monthlyRevenueChart" title="AylÄ±k Ciro DaÄŸÄ±lÄ±mÄ±" VBox.vgrow="ALWAYS">
                        <xAxis>
                            <CategoryAxis label="Ay"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Ciro (TL)"/>
                        </yAxis>
                    </BarChart>
                </VBox>
            </Tab>

        </TabPane>
    </center>

    <bottom>
        <VBox spacing="10" style="-fx-background-color: #E0F2F1; -fx-padding: 20; -fx-border-color: #B2DFDB; -fx-border-width: 1 0 0 0;">
            <HBox spacing="30" alignment="CENTER">
                <VBox alignment="CENTER" spacing="5">
                    <Label text="Toplam Ä°ÅŸlem" style="-fx-text-fill: #00695C; -fx-font-size: 12px;"/>
                    <Label fx:id="totalOrdersLabel" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #004D40;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5">
                    <Label text="BUGÃœNLÃœK TOPLAM CÄ°RO" style="-fx-text-fill: #00695C; -fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <Label fx:id="totalRevenueLabel" text="0.00 TL" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #00796B;"/>
                </VBox>
            </HBox>
            <Label text="Z Raporu aldÄ±ÄŸÄ±nÄ±zda bugÃ¼nkÃ¼ veriler sÄ±fÄ±rlanacak ve PDF olarak kaydedilecektir!" style="-fx-text-fill: #d84315; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 10 0 0 0;" wrapText="true"/>
        </VBox>
    </bottom>

</BorderPane>